# Story 1.1: OCR Environment Setup and Dependencies

## Story Information
- **Epic:** 1 - OCR Jersey Reading Integration
- **Story Number:** 1.1
- **Status:** Draft
- **Priority:** High
- **Estimated Effort:** 2-3 hours

## Story Statement
As a **developer**,
I want **to set up a separate OCR virtual environment with minimal dependencies**,
so that **OCR processing can run efficiently without PyTorch overhead**.

## Acceptance Criteria
1. Create separate `.venv-ocr` virtual environment
2. Install EasyOCR, OpenCV, NumPy, Pillow only
3. Environment size must be <500MB
4. OCR environment can be activated independently
5. Environment activation script created

## Integration Verification
- IV1: Existing analysis environment remains unchanged and functional
- IV2: OCR environment can be activated without affecting training environment
- IV3: No dependency conflicts between environments

## Dev Notes

### Previous Story Insights
This is the first story in the OCR enhancement epic. No previous story context available.

### Data Models
No specific data models required for this story - focuses on environment setup only.

### API Specifications
No API specifications required for this story - focuses on environment setup only.

### Component Specifications
No UI components required for this story - focuses on environment setup only.

### File Locations
Based on existing project structure analysis:
- OCR virtual environment: `.venv-ocr/` (project root)
- Activation script: `scripts/activate_ocr_env.sh` (new file)
- Requirements file: `requirements-ocr.txt` (new file)

### Testing Requirements
- Verify OCR environment can be activated independently
- Confirm environment size is <500MB
- Test that OCR dependencies can be imported successfully
- Verify no conflicts with existing training environment

### Technical Constraints
- Must maintain existing 1.5GB training environment (.venv)
- OCR environment must be separate to avoid PyTorch overhead
- EasyOCR requires specific dependencies (torch, torchvision alternatives)
- Environment must be compatible with existing Python 3.12 setup

## Tasks / Subtasks

### Task 1: Create OCR Virtual Environment (AC: 1, 4)
1. Create new virtual environment `.venv-ocr` in project root
2. Activate OCR environment and verify Python version (3.12)
3. Test environment isolation from existing `.venv`

### Task 2: Install OCR Dependencies (AC: 2, 3)
1. Create `requirements-ocr.txt` with minimal OCR dependencies:
   - easyocr
   - opencv-python
   - numpy
   - pillow
2. Install dependencies in OCR environment
3. Verify environment size is <500MB
4. Test import of all OCR dependencies

### Task 3: Create Environment Activation Script (AC: 5)
1. Create `scripts/activate_ocr_env.sh` script
2. Script should activate OCR environment and verify dependencies
3. Add script to project documentation
4. Test script functionality

### Task 4: Environment Validation and Testing (AC: 1-5, IV1-IV3)
1. Test OCR environment activation independently
2. Verify existing training environment remains unaffected
3. Test dependency isolation between environments
4. Document environment setup process
5. Create environment switching guide

## Testing Strategy
- **Unit Tests:** Environment activation and dependency import tests
- **Integration Tests:** Verify no conflicts with existing environment
- **Performance Tests:** Confirm environment size requirements met

## Definition of Done
- [ ] OCR virtual environment created and functional
- [ ] All OCR dependencies installed successfully
- [ ] Environment size verified <500MB
- [ ] Activation script created and tested
- [ ] No conflicts with existing training environment
- [ ] Documentation updated with environment setup instructions
- [ ] All tests passing

## Risk Mitigation
- **Risk:** Environment conflicts with existing setup
- **Mitigation:** Thorough testing of environment isolation
- **Risk:** OCR dependencies too large
- **Mitigation:** Monitor environment size during installation

## Dev Agent Record
- **Agent Model Used:** TBD
- **Debug Log References:** TBD
- **Completion Notes:** TBD
- **File List:** TBD
- **Change Log:** TBD




